#include "stdint.h"
const uint32_t sin_length[] = {20,59,98,137,175,214,253,292,331,370,409,448,486,525,564,603,642,681,720,759,797,836,875,914,953,992,1031,1070,1108,1147,1186,1225,1264,1303,1342,1381,1420,1458,1497,1536,1575,1614,1653,1692,1731,1769,1808,1847,1886,1925,1964,2003,2042,2081,2119,2158,2197,2236,2275,2314,2353,2392,2431,2469,2508,2547,2586,2625,2664,2703,2742,2781,2820,2858,2897,2936,2975,3014,3053,3092,3131,3170,3209,3247,3286,3325,3364,3403,3442,3481,3520,3559,3598,3637,3676,3714,3753,3792,3831,3870,3909,3948,3987,4026,4065,4104,4143,4182,4220,4259,4298,4337,4376,4415,4454,4493,4532,4571,4610,4649,4688,4727,4766,4805,4843,4882,4921,4960,4999,5038,5077,5116,5155,5194,5233,5272,5311,5350,5389,5428,5467,5506,5545,5584,5623,5662,5701,5740,5779,5818,5856,5895,5934,5973,6012,6051,6090,6129,6168,6207,6246,6285,6324,6363,6402,6441,6480,6519,6558,6597,6636,6675,6714,6753,6792,6831,6870,6910,6949,6988,7027,7066,7105,7144,7183,7222,7261,7300,7339,7378,7417,7456,7495,7534,7573,7612,7651,7690,7729,7768,7807,7847,7886,7925,7964,8003,8042,8081,8120,8159,8198,8237,8276,8315,8355,8394,8433,8472,8511,8550,8589,8628,8667,8706,8746,8785,8824,8863,8902,8941,8980,9019,9059,9098,9137,9176,9215,9254,9293,9332,9372,9411,9450,9489,9528,9567,9607,9646,9685,9724,9763,9802,9842,9881,9920,9959,9998,10037,10077,10116,10155,10194,10233,10273,10312,10351,10390,10429,10469,10508,10547,10586,10626,10665,10704,10743,10782,10822,10861,10900,10939,10979,11018,11057,11096,11136,11175,11214,11253,11293,11332,11371,11411,11450,11489,11528,11568,11607,11646,11686,11725,11764,11803,11843,11882,11921,11961,12000,12039,12079,12118,12157,12197,12236,12275,12315,12354,12393,12433,12472,12511,12551,12590,12630,12669,12708,12748,12787,12826,12866,12905,12945,12984,13023,13063,13102,13142,13181,13220,13260,13299,13339,13378,13418,13457,13496,13536,13575,13615,13654,13694,13733,13773,13812,13852,13891,13931,13970,14009,14049,14088,14128,14167,14207,14246,14286,14325,14365,14405,14444,14484,14523,14563,14602,14642,14681,14721,14760,14800,14839,14879,14919,14958,14998,15037,15077,15116,15156,15196,15235,15275,15314,15354,15394,15433,15473,15513,15552,15592,15631,15671,15711,15750,15790,15830,15869,15909,15949,15988,16028,16068,16107,16147,16187,16226,16266,16306,16346,16385,16425,16465,16504,16544,16584,16624,16663,16703,16743,16783,16822,16862,16902,16942,16981,17021,17061,17101,17141,17180,17220,17260,17300,17340,17379,17419,17459,17499,17539,17579,17618,17658,17698,17738,17778,17818,17858,17898,17937,17977,18017,18057,18097,18137,18177,18217,18257,18297,18336,18376,18416,18456,18496,18536,18576,18616,18656,18696,18736,18776,18816,18856,18896,18936,18976,19016,19056,19096,19136,19176,19216,19256,19296,19336,19376,19416,19456,19496,19537,19577,19617,19657,19697,19737,19777,19817,19857,19897,19938,19978,20018,20058,20098,20138,20178,20219,20259,20299,20339,20379,20419,20460,20500,20540,20580,20620,20661,20701,20741,20781,20822,20862,20902,20942,20983,21023,21063,21104,21144,21184,21224,21265,21305,21345,21386,21426,21466,21507,21547,21587,21628,21668,21708,21749,21789,21830,21870,21910,21951,21991,22032,22072,22112,22153,22193,22234,22274,22315,22355,22395,22436,22476,22517,22557,22598,22638,22679,22719,22760,22800,22841,22882,22922,22963,23003,23044,23084,23125,23165,23206,23247,23287,23328,23368,23409,23450,23490,23531,23572,23612,23653,23694,23734,23775,23816,23856,23897,23938,23978,24019,24060,24101,24141,24182,24223,24263,24304,24345,24386,24427,24467,24508,24549,24590,24631,24671,24712,24753,24794,24835,24876,24916,24957,24998,25039,25080,25121,25162,25203,25244,25284,25325,25366,25407,25448,25489,25530,25571,25612,25653,25694,25735,25776,25817,25858,25899,25940,25981,26022,26063,26104,26145,26186,26228,26269,26310,26351,26392,26433,26474,26515,26556,26598,26639,26680,26721,26762,26803,26845,26886,26927,26968,27010,27051,27092,27133,27174,27216,27257,27298,27340,27381,27422,27463,27505,27546,27587,27629,27670,27711,27753,27794,27836,27877,27918,27960,28001,28043,28084,28125,28167,28208,28250,28291,28333,28374,28416,28457,28499,28540,28582,28623,28665,28706,28748,28789,28831,28873,28914,28956,28997,29039,29081,29122,29164,29206,29247,29289,29330,29372,29414,29456,29497,29539,29581,29622,29664,29706,29748,29789,29831,29873,29915,29957,29998,30040,30082,30124,30166,30208,30249,30291,30333,30375,30417,30459,30501,30543,30585,30627,30668,30710,30752,30794,30836,30878,30920,30962,31004,31046,31088,31130,31173,31215,31257,31299,31341,31383,31425,31467,31509,31551,31594,31636,31678,31720,31762,31805,31847,31889,31931,31973,32016,32058,32100,32142,32185,32227,32269,32312,32354,32396,32439,32481,32523,32566,32608,32650,32693,32735,32778,32820,32863,32905,32947,32990,33032,33075,33117,33160,33202,33245,33287,33330,33373,33415,33458,33500,33543,33586,33628,33671,33713,33756,33799,33841,33884,33927,33969,34012,34055,34098,34140,34183,34226,34269,34311,34354,34397,34440,34483,34526,34568,34611,34654,34697,34740,34783,34826,34869,34912,34955,34997,35040,35083,35126,35169,35212,35255,35298,35342,35385,35428,35471,35514,35557,35600,35643,35686,35729,35773,35816,35859,35902,35945,35989,36032,36075,36118,36162,36205,36248,36291,36335,36378,36421,36465,36508,36551,36595,36638,36682,36725,36768,36812,36855,36899,36942,36986,37029,37073,37116,37160,37203,37247,37290,37334,37378,37421,37465,37508,37552,37596,37639,37683,37727,37770,37814,37858,37902,37945,37989,38033,38077,38120,38164,38208,38252,38296,38340,38384,38427,38471,38515,38559,38603,38647,38691,38735,38779,38823,38867,38911,38955,38999,39043,39087,39131,39175,39220,39264,39308,39352,39396,39440,39485,39529,39573,39617,39662,39706,39750,39794,39839,39883,39927,39972,40016,40060,40105,40149,40194,40238,40282,40327,40371,40416,40460,40505,40549,40594,40639,40683,40728,40772,40817,40862,40906,40951,40995,41040,41085,41130,41174,41219,41264,41309,41353,41398,41443,41488,41533,41577,41622,41667,41712,41757,41802,41847,41892,41937,41982,42027,42072,42117,42162,42207,42252,42297,42342,42387,42432,42478,42523,42568,42613,42658,42704,42749,42794,42839,42885,42930,42975,43021,43066,43111,43157,43202,43247,43293,43338,43384,43429,43475,43520,43566,43611,43657,43702,43748,43794,43839,43885,43931,43976,44022,44068,44113,44159,44205,44251,44296,44342,44388,44434,44480,44525,44571,44617,44663,44709,44755,44801,44847,44893,44939,44985,45031,45077,45123,45169,45215,45261,45308,45354,45400,45446,45492,45539,45585,45631,45677,45724,45770,45816,45863,45909,45956,46002,46048,46095,46141,46188,46234,46281,46327,46374,46420,46467,46514,46560,46607,46654,46700,46747,46794,46840,46887,46934,46981,47027,47074,47121,47168,47215,47262,47309,47356,47403,47450,47497,47544,47591,47638,47685,47732,47779,47826,47873,47920,47967,48015,48062,48109,48156,48204,48251,48298,48346,48393,48440,48488,48535,48583,48630,48678,48725,48773,48820,48868,48915,48963,49010,49058,49106,49153,49201,49249,49297,49344,49392,49440,49488,49536,49583,49631,49679,49727,49775,49823,49871,49919,49967,50015,50063,50111,50159,50207,50256,50304,50352,50400,50448,50497,50545,50593,50642,50690,50738,50787,50835,50884,50932,50981,51029,51078,51126,51175,51223,51272,51321,51369,51418,51467,51515,51564,51613,51662,51710,51759,51808,51857,51906,51955,52004,52053,52102,52151,52200,52249,52298,52347,52396,52445,52495,52544,52593,52642,52692,52741,52790,52840,52889,52938,52988,53037,53087,53136,53186,53235,53285,53334,53384,53434,53483,53533,53583,53632,53682,53732,53782,53832,53882,53931,53981,54031,54081,54131,54181,54231,54281,54331,54382,54432,54482,54532,54582,54633,54683,54733,54783,54834,54884,54935,54985,55035,55086,55136,55187,55238,55288,55339,55389,55440,55491,55542,55592,55643,55694,55745,55796,55846,55897,55948,55999,56050,56101,56152,56203,56255,56306,56357,56408,56459,56511,56562,56613,56664,56716,56767,56819,56870,56922,56973,57025,57076,57128,57179,57231,57283,57335,57386,57438,57490,57542,57594,57645,57697,57749,57801,57853,57905,57957,58010,58062,58114,58166,58218,58271,58323,58375,58428,58480,58532,58585,58637,58690,58742,58795,58847,58900,58953,59005,59058,59111,59164,59217,59269,59322,59375,59428,59481,59534,59587,59640,59693,59747,59800,59853,59906,59960,60013,60066,60120,60173,60226,60280,60334,60387,60441,60494,60548,60602,60655,60709,60763,60817,60871,60925,60978,61032,61086,61140,61195,61249,61303,61357,61411,61466,61520,61574,61628,61683,61737,61792,61846,61901,61955,62010,62065,62119,62174,62229,62284,62339,62393,62448,62503,62558,62613,62668,62724,62779,62834,62889,62944,63000,63055,63110,63166,63221,63277,63332,63388,63444,63499,63555,63611,63666,63722,63778,63834,63890,63946,64002,64058,64114,64170,64227,64283,64339,64395,64452,64508,64565,64621,64678,64734,64791,64847,64904,64961,65018,65074,65131,65188,65245,65302,65359,65416,65473,65531,65588,65645,65702,65760,65817,65875,65932,65990,66047,66105,66162,66220,66278,66336,66394,66452,66509,66567,66625,66684,66742,66800,66858,66916,66975,67033,67092,67150,67209,67267,67326,67384,67443,67502,67561,67620,67678,67737,67796,67855,67915,67974,68033,68092,68151,68211,68270,68330,68389,68449,68508,68568,68628,68688,68747,68807,68867,68927,68987,69047,69108,69168,69228,69288,69349,69409,69470,69530,69591,69651,69712,69773,69834,69894,69955,70016,70077,70138,70200,70261,70322,70383,70445,70506,70568,70629,70691,70752,70814,70876,70938,71000,71062,71124,71186,71248,71310,71372,71435,71497,71560,71622,71685,71747,71810,71873,71936,71998,72061,72124,72187,72251,72314,72377,72440,72504,72567,72631,72694,72758,72822,72886,72949,73013,73077,73141,73206,73270,73334,73398,73463,73527,73592,73656,73721,73786,73851,73916,73981,74046,74111,74176,74241,74306,74372,74437,74503,74568,74634,74700,74766,74832,74898,74964,75030,75096,75162,75229,75295,75362,75428,75495,75562,75628,75695,75762,75829,75897,75964,76031,76098,76166,76233,76301,76369,76437,76504,76572,76640,76709,76777,76845,76913,76982,77050,77119,77188,77257,77326,77395,77464,77533,77602,77671,77741,77810,77880,77950,78019,78089,78159,78229,78299,78370,78440,78510,78581,78652,78722,78793,78864,78935,79006,79077,79149,79220,79292,79363,79435,79507,79579,79651,79723,79795,79867,79940,80012,80085,80158,80230,80303,80376,80449,80523,80596,80670,80743,80817,80891,80965,81039,81113,81187,81261,81336,81410,81485,81560,81635,81710,81785,81860,81936,82011,82087,82163,82239,82315,82391,82467,82543,82620,82696,82773,82850,82927,83004,83082,83159,83236,83314,83392,83470,83548,83626,83704,83783,83861,83940,84019,84098,84177,84256,84336,84415,84495,84575,84655,84735,84815,84896,84976,85057,85138,85219,85300,85381,85463,85545,85626,85708,85790,85873,85955,86038,86120,86203,86286,86370,86453,86537,86620,86704,86788,86873,86957,87042,87126,87211,87296,87382,87467,87553,87639,87725,87811,87897,87984,88070,88157,88245,88332,88419,88507,88595,88683,88771,88860,88949,89038,89127,89216,89306,89395,89485,89576,89666,89757,89847,89938,90030,90121,90213,90305,90397,90489,90582,90675,90768,90861,90955,91049,91143,91237,91332,91426,91521,91617,91712,91808,91904,92001,92097,92194,92291,92389,92486,92584,92683,92781,92880,92979,93079,93178,93278,93379,93479,93580,93681,93783,93885,93987,94089,94192,94295,94399,94503,94607,94711,94816,94921,95027,95133,95239,95345,95452,95560,95667,95775,95884,95993,96102,96212,96322,96432,96543,96654,96766,96878,96991,97104,97217,97331,97445,97560,97675,97791,97907,98024,98141,98258,98377,98495,98614,98734,98854,98975,99096,99218,99341,99464,99587,99711,99836,99961,100087,100214,100341,100469,100597,100726,100856,100986,101118,101249,101382,101515,101649,101784,101920,102056,102193,102331,102470,102609,102750,102891,103033,103176,103320,103465,103611,103758,103906,104055,104205,104356,104508,104661,104815,104971,105128,105285,105445,105605,105767,105930,106094,106260,106428,106596,106767,106939,107112,107288,107465,107643,107824,108006,108191,108377,108566,108756,108949,109145,109342,109542,109745,109950,110159,110370,110584,110801,111022,111246,111474,111706,111942,112182,112427,112676,112931,113191,113457,113729,114008,114294,114588,114890,115201,115523,115856,116202,116561,116937,117331,117746,118186,118657,119166,119723,120346,121067,121954,123242,125000};
const uintptr_t sin_length_end = (uintptr_t)(sin_length) + sizeof(sin_length);
const uintptr_t sin_length_begin = (uintptr_t)(sin_length);
uint16_t Sin(uint32_t position,float ampl = 1){
    int32_t in_peroid = position%500000;
    bool negative = in_peroid/250000;//8192 => 0x2000 4096 0x1fff
    bool direction = (in_peroid%250000)/125000;
    in_peroid = in_peroid % 125000;
    uintptr_t sin_min_position,sin_max_position;
    uint16_t result;
    if(direction){
        in_peroid = 125000 - in_peroid;
    }
    if(*(uint32_t*)((sin_length_end + sin_length_begin)>>1) > in_peroid){
        sin_min_position = sin_length_begin;
        sin_max_position = (sin_length_end + sin_length_begin)>>1;
    }
    else{
        sin_min_position = (sin_length_end + sin_length_begin)>>1;
        sin_max_position = sin_length_end;
    }
    while(sin_max_position-sin_min_position-sizeof(uint32_t)){
        uintptr_t sin_mid_position = (sin_max_position+ sin_min_position)>>1;
        if(*(uint32_t*)sin_mid_position > in_peroid){
            sin_max_position = sin_mid_position;
        }
        else{
            sin_min_position = sin_mid_position;
        }
    }
    result = (sin_min_position - sin_length_begin) >> 2;
    if(negative){result = 2048 - result;}else{result += 2048;};
    return result * ampl;
}